id: repro-deploy-example
name: "Repro: Deploy Example (SSH)"
description: "Demo script to reproduce deployment issues. Use this to recreate a failing scenario and collect artifacts."
repo: "bitbucket.org/yourteam/automation-scripts.git"
path: "scripts/repro_deploy_example.ps1"
default_runner: "agent"
parameters:
  - name: host
    type: string
    title: "Target host"
    description: "Remote host to connect to (e.g., server.example.com)"
    required: true
  - name: user
    type: string
    title: "Remote user"
    description: "SSH username for remote connection"
    required: true
  - name: template
    type: string
    title: "YAML template path"
    description: "Path to configuration template file"
    required: false
  - name: repro_id
    type: string
    title: "Repro ID"
    description: "Reproduction identifier (autogenerated if blank)"
    required: false
  - name: dry_run
    type: boolean
    title: "Dry run mode"
    description: "Run in dry-run mode without making changes"
    required: false
    default: false
capture:
  env_snapshot: true
  collect_files:
    - "/var/log/myapp.log"
    - "/tmp/output.tar"
    - "/tmp/deployment.log"
